---
title: faster rcnn重读记录
date: 2019-02-27 21:03:52
categories: 论文
---
# <center>faster rcnn重读记录笔记</center>

## 引言
&emsp;&emsp;年纪大了，之前看的好多文章，都忘得差不多了。深刻的明白了好记性不如烂笔头，现在看文章，准备记录下来，已备后来查阅。

## 0 Abstract
&emsp;&emsp;现在最先进的目标检测网络需要依赖`区域提出算法`假定目标的位置。SPPNET和FAST_RCNN已经缩短了检测网络的运行时间，暴露出区域提出计算的瓶颈。本文提出`区域提出网络(Region Proposal Network)`和检测网络共享全图像的卷积特征，因此做到几乎零消耗的区域提出效果。

## 1 Introduction
&emsp;&emsp;`SS(selective search)`是总多流行的区域提出方法之一，然而跟高效的检测网络相比落后一个数量级，在CPU的处理一张图片需要2秒。`EdgeBoxes`每张图片需要花费0.2秒，然而区域提出这一步花费的时间仍然跟检测网络一致。

&emsp;&emsp;采用GPU加速实现的区域提出方法是工程上有效的解决方案，但是这种重新实现忽略了下游的检测网络，错过了共享计算的重要机会。

&emsp;&emsp;我们发现在基于区域的检测器中用到的卷积特征也可以被用来生成区域建议网络。在这些卷积特征顶层，我们组建RPN通过添加一些额外的卷积层同时回归边界框和目标的概率在每个常见的单元的位置。

## 2 Related Work
&emsp;&emsp;广泛使用的目标提出方法包括基于超像素分组的方法(如SS,CPMC,MCG)和基于滑动窗口的方法(如EdgeBoxes)。目标提出方法在检测中充当一个独立的外部模块。

&emsp;&emsp;RCNN方法端到端的训练CNNs来对产生的区域进行判断是否包含物体或是背景。RCNN主要充当一个分类器，它不预测物体的边界框(除了refining边界框回归)。它的准确率取决于区域建议模块的表现。

## 3 Faster R_CNN
&emsp;&emsp;我们的检测系统，叫做Faster RCNN,由两部分组成。第一部分是用于区域建议的深度全卷积神经网络，第二部分是Fast RCNN检测器，它使用第一部分生成的建议区域。整个系统是一个简单、统一的目标检测网络。用最近在神经网络中很流行的术语注意力机制，RPN模块告诉Fast RCNN望哪里去看。

### 3.1 RPN网络
&emsp;&emsp;RPN以一副任意尺度的图片作为输入，输出一系列矩形的目标建议框，每一个都有一个目标的置信度。
&emsp;&emsp;为了生成区域建议框，我们在共享的卷积层输出的卷积特征上滑动一个小的卷积网络。这个小的卷积网络采用一个nxn的空间窗作为卷积特征图的输入。每一个滑动窗口映射到一个低维的特征。这个特征送给两个兄弟全连接层中——一个框回归层(reg)，一个框分类层(cls)。在本文中我们使用n=3，这个迷你的网络在某个位置上的图示如下图。注意因为迷你的网络是一种滑动窗口的操作，全连接层共享了所有的空间信息。这种分格很自然的采用nxn的卷积层后面跟两个1x1的兄弟卷积层来实现(分别为了回归和分类)。
<div style="width: 90%; margin: auto">
<center>{% asset_img 1.jpg 图示 %}</center>
</div>

#### 3.1.1 Anchors
&emsp;&emsp;在每个滑动窗口的位置，我们同时预测多个区域建议框，他们每个位置的最大可能的建议框数目记为*k*。那么回归层就有4*k*个输出表征了*k*个框的坐标，分类层就输出2*k*个分数分表代表了每个建议框是和不是一个目标的概率。*k*个建议框是参数为*k*的引用框，我们称为Anchors。anchor位于滑动窗口的中心，和长宽比和比例有关。默认情况下我们使用3种长宽比和3种比例，在每个滑动的位置产生9个anchors。对于尺度为WxH特征图来说，那总共就有*WHk*个anchors。




